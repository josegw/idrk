<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>hi</title>
<style>
  body {
    background-color: #000;
    color: #ccc;
    font-family: Consolas, "Liberation Mono", Courier, monospace;
    font-size: 1.2em;
    margin: 0;
    padding: 0;
    height: 100vh;
    user-select: none;
  }
  #terminal {
    padding: 10px;
  }
  .prompt {
    color: #8aff80;
  }
  .cursor {
    display: inline-block;
    width: 0.6ch;
    background-color: currentColor;
    animation: blink 1s steps(2) infinite;
    vertical-align: bottom;
  }
  @keyframes blink {
    0% { opacity: 1; }
    50% { opacity: 0; }
    100% { opacity: 1; }
  }
  input.inputcmd {
    background: none;
    border: none;
    color: #ccc;
    font: inherit;
    outline: none;
    width: 10ch;
  }
</style>
</head>
<body>
<div id="terminal"></div>

<script>
// Inicia al cargar la página
document.addEventListener("DOMContentLoaded", function() {
  var terminal = document.getElementById("terminal");

  function typeText(el, text, speed, callback) {
    var i = 0;
    function step() {
      if (i < text.length) {
        el.innerHTML += text.charAt(i);
        i++;
        setTimeout(step, speed);
      } else if (callback) {
        callback();
      }
    }
    step();
  }

  function addLineWithPrompt(textId) {
    var p = document.createElement("p");
    var prompt = document.createElement("span");
    prompt.className = "prompt";
    prompt.textContent = "esoj@josegw:~$ ";
    p.appendChild(prompt);
    var span = document.createElement("span");
    span.id = textId;
    p.appendChild(span);
    var cursor = document.createElement("span");
    cursor.className = "cursor";
    p.appendChild(cursor);
    terminal.appendChild(p);
    return { p, text: span, cursor };
  }

  function addLineWithPromptAndText(text) {
    var p = document.createElement("p");
    var prompt = document.createElement("span");
    prompt.className = "prompt";
    prompt.textContent = "esoj@josegw:~$ ";
    p.appendChild(prompt);
    var span = document.createElement("span");
    span.textContent = text;
    p.appendChild(span);
    terminal.appendChild(p);
  }

  // Línea 1: login:
  var line1 = addLineWithPrompt("text1");
  typeText(line1.text, "login:", 150, function() {
    line1.cursor.remove();
    // Línea 2: contraseña:
    var line2 = addLineWithPrompt("text2");
    typeText(line2.text, "contraseña:", 150, function() {
      line2.cursor.remove();

      // Línea 3: input contraseña con cursor
      var p = document.createElement("p");
      var prompt = document.createElement("span");
      prompt.className = "prompt";
      prompt.textContent = "esoj@josegw:~$ ";
      p.appendChild(prompt);

      var input = document.createElement("input");
      input.type = "password";
      input.className = "inputcmd";
      input.id = "password";
      p.appendChild(input);

      var cursor = document.createElement("span");
      cursor.className = "cursor";
      p.appendChild(cursor);

      terminal.appendChild(p);
      input.focus();

      input.addEventListener("keydown", function(e) {
        if (e.key === "Enter") {
          var pwd = input.value;
          input.disabled = true;

          if (pwd === "olitamo") {
            // Línea 4: correcto con cuenta atrás
            let pMsg = document.createElement("p");
            let prompt2 = document.createElement("span");
            prompt2.className = "prompt";
            prompt2.textContent = "esoj@josegw:~$ ";
            pMsg.appendChild(prompt2);

            let spanMsg = document.createElement("span");
            spanMsg.textContent = "correcto, redirigiendo en ";
            pMsg.appendChild(spanMsg);

            let countSpan = document.createElement("span");
            countSpan.textContent = "3";
            pMsg.appendChild(countSpan);

            pMsg.appendChild(document.createTextNode(" segundos"));
            terminal.appendChild(pMsg);

            let count = 3;
            let interval = setInterval(() => {
              count--;
              if (count > 0) {
                countSpan.textContent = count;
              } else {
                clearInterval(interval);
                window.location.href = "https://youtube.com";
              }
            }, 1000);
          } else {
            // Línea 4: nope
            addLineWithPromptAndText("nope.");
            setTimeout(() => {
              window.location.href = "https://www.google.com";
            }, 3000);
          }
        }
      });
    });
  });
});
</script>
</body>
</html>
